{"ast":null,"code":"import _regeneratorRuntime from\"/Users/younghyuncho/pp/check/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/younghyuncho/pp/check/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/younghyuncho/pp/check/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import\"../../style.css\";import axios from\"axios\";import Barcode from\"./Barcode\";import{useLocation}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var List=function List(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useLocation=useLocation(),state=_useLocation.state;function get(){return _get.apply(this,arguments);}function _get(){_get=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('http://3.35.213.205/api/ft/orderlist',{headers:{'X-Ft-Sessionid':state}});case 2:result=_context.sent;setData(result.data);// console.log(result.data)\n// console.log(data)\ncase 4:case\"end\":return _context.stop();}}},_callee);}));return _get.apply(this,arguments);}useEffect(function(){get();var interTime=setInterval(function(){return get();},10000);return function(){return clearInterval(interTime);};},[]);return/*#__PURE__*/_jsx(_Fragment,{children:Array.isArray(data.orderitems)&&data.orderitems.map(function(items,index){var itemStatus={\"0\":/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{className:\"status\",children:\"\\uC8FC\\uBB38 \\uC644\\uB8CC\"}),/*#__PURE__*/_jsx(\"p\",{className:\"barcodeimg\",children:/*#__PURE__*/_jsx(Barcode,{barcodeNumber:items.id})}),/*#__PURE__*/_jsx(\"br\",{})]}),\"100\":/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{className:\"status100\",children:\"\\uD328\\uD0B9 \\uC2DC\\uC791\"}),/*#__PURE__*/_jsx(\"p\",{className:\"username\",children:items.ft_username}),/*#__PURE__*/_jsx(\"br\",{})]}),\"200\":/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{className:\"status200\",children:\"\\uD328\\uD0B9 \\uC911\"}),/*#__PURE__*/_jsx(\"p\",{className:\"username\",children:items.ft_username}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]}),\"300\":/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{className:\"status300\",children:\"\\uD328\\uD0B9 \\uC644\\uB8CC\"}),/*#__PURE__*/_jsx(\"p\",{className:\"username\",children:items.ft_username}),/*#__PURE__*/_jsx(\"br\",{})]})};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"orderList\",keys:index,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"textArea\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{className:\"title\",children:[items.company_name,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"title\",children:[\"(\",items.basket_items.length,\" \\uD488\\uBAA9)\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"address\",children:items.company_address}),/*#__PURE__*/_jsx(\"span\",{className:\"contact\",children:items.company_contact})]}),/*#__PURE__*/_jsx(\"div\",{className:\"statusArea\",children:itemStatus[items.status]})]})});})});};export default List;","map":{"version":3,"names":["useEffect","useState","axios","Barcode","useLocation","List","data","setData","state","get","headers","result","interTime","setInterval","clearInterval","Array","isArray","orderitems","map","items","index","itemStatus","id","ft_username","company_name","basket_items","length","company_address","company_contact","status"],"sources":["/Users/younghyuncho/pp/check/client/src/pages/list/List.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport \"../../style.css\"\nimport axios from \"axios\";\nimport Barcode from \"./Barcode\"\nimport { useLocation } from \"react-router\";\n\nconst List = () => {\n  const [data, setData] = useState({});\n  const { state } = useLocation();\n  async function get() {\n      const result = await axios.get(\n        'http://3.35.213.205/api/ft/orderlist',{\n          headers:{\n            'X-Ft-Sessionid':state\n          }\n        })\n          setData(result.data)\n          // console.log(result.data)\n          // console.log(data)\n  }\n  useEffect(() => {\n    get()\n    const interTime = setInterval(()=> get(),10000);\n        return ()=> clearInterval(interTime)\n  },[])\n  return (\n    <>\n      {\n        Array.isArray(data.orderitems) && \n        ( \n          data.orderitems.map((items, index) => {\n            const itemStatus = {\n              \"0\": <><br/><p className=\"status\">주문 완료</p><p className=\"barcodeimg\"><Barcode barcodeNumber={items.id}/></p><br/></>,\n              \"100\": <><br/><p className=\"status100\">패킹 시작</p><p className=\"username\">{items.ft_username}</p><br/></>,\n              \"200\": <><br/><p className=\"status200\">패킹 중</p><p className=\"username\">{items.ft_username}</p><br/><br/></>,\n              \"300\": <><br/><p className=\"status300\">패킹 완료</p><p className=\"username\">{items.ft_username}</p><br/></>\n            }\n            return (\n              <>\n                <div className=\"orderList\" keys={index}>\n                  <div className=\"textArea\">\n                  <br/> \n                  <span className=\"title\">{items.company_name} </span>\n                  <span className=\"title\">({items.basket_items.length} 품목)</span>\n                  <span className=\"address\">{items.company_address}</span>\n                  <span className=\"contact\">{items.company_contact}</span>\n                  </div>\n                  <div className=\"statusArea\">\n                  {\n                    itemStatus[items.status]\n                  }\n                  </div>\n                </div>\n              </>\n            )\n          }))\n        }\n    </>\n  )\n}\n\nexport default List"],"mappings":"2XAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAO,iBAAP,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,QAAP,KAAoB,WAApB,CACA,OAASC,WAAT,KAA4B,cAA5B,C,6IAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CACjB,cAAwBJ,QAAQ,CAAC,EAAD,CAAhC,wCAAOK,IAAP,eAAaC,OAAb,eACA,iBAAkBH,WAAW,EAA7B,CAAQI,KAAR,cAAQA,KAAR,CAFiB,QAGFC,IAHE,qHAGjB,sKACyBP,MAAK,CAACO,GAAN,CACnB,sCADmB,CACoB,CACrCC,OAAO,CAAC,CACN,iBAAiBF,KADX,CAD6B,CADpB,CADzB,QACUG,MADV,eAOQJ,OAAO,CAACI,MAAM,CAACL,IAAR,CAAP,CACA;AACA;AATR,sDAHiB,sCAcjBN,SAAS,CAAC,UAAM,CACdS,GAAG,GACH,GAAMG,UAAS,CAAGC,WAAW,CAAC,iBAAKJ,IAAG,EAAR,EAAD,CAAY,KAAZ,CAA7B,CACI,MAAO,kBAAKK,cAAa,CAACF,SAAD,CAAlB,EAAP,CACL,CAJQ,CAIP,EAJO,CAAT,CAKA,mBACE,yBAEIG,KAAK,CAACC,OAAN,CAAcV,IAAI,CAACW,UAAnB,GAEEX,IAAI,CAACW,UAAL,CAAgBC,GAAhB,CAAoB,SAACC,KAAD,CAAQC,KAAR,CAAkB,CACpC,GAAMC,WAAU,CAAG,CACjB,iBAAK,wCAAE,aAAF,cAAO,UAAG,SAAS,CAAC,QAAb,uCAAP,cAAsC,UAAG,SAAS,CAAC,YAAb,uBAA0B,KAAC,OAAD,EAAS,aAAa,CAAEF,KAAK,CAACG,EAA9B,EAA1B,EAAtC,cAAuG,aAAvG,GADY,CAEjB,mBAAO,wCAAE,aAAF,cAAO,UAAG,SAAS,CAAC,WAAb,uCAAP,cAAyC,UAAG,SAAS,CAAC,UAAb,UAAyBH,KAAK,CAACI,WAA/B,EAAzC,cAAwF,aAAxF,GAFU,CAGjB,mBAAO,wCAAE,aAAF,cAAO,UAAG,SAAS,CAAC,WAAb,iCAAP,cAAwC,UAAG,SAAS,CAAC,UAAb,UAAyBJ,KAAK,CAACI,WAA/B,EAAxC,cAAuF,aAAvF,cAA4F,aAA5F,GAHU,CAIjB,mBAAO,wCAAE,aAAF,cAAO,UAAG,SAAS,CAAC,WAAb,uCAAP,cAAyC,UAAG,SAAS,CAAC,UAAb,UAAyBJ,KAAK,CAACI,WAA/B,EAAzC,cAAwF,aAAxF,GAJU,CAAnB,CAMA,mBACE,sCACE,aAAK,SAAS,CAAC,WAAf,CAA2B,IAAI,CAAEH,KAAjC,wBACE,aAAK,SAAS,CAAC,UAAf,wBACA,aADA,cAEA,cAAM,SAAS,CAAC,OAAhB,WAAyBD,KAAK,CAACK,YAA/B,OAFA,cAGA,cAAM,SAAS,CAAC,OAAhB,eAA0BL,KAAK,CAACM,YAAN,CAAmBC,MAA7C,oBAHA,cAIA,aAAM,SAAS,CAAC,SAAhB,UAA2BP,KAAK,CAACQ,eAAjC,EAJA,cAKA,aAAM,SAAS,CAAC,SAAhB,UAA2BR,KAAK,CAACS,eAAjC,EALA,GADF,cAQE,YAAK,SAAS,CAAC,YAAf,UAEEP,UAAU,CAACF,KAAK,CAACU,MAAP,CAFZ,EARF,GADF,EADF,CAkBD,CAzBD,CAJN,EADF,CAkCD,CArDD,CAuDA,cAAexB,KAAf"},"metadata":{},"sourceType":"module"}